!function(e){function t(t){for(var n,i,c=t[0],l=t[1],s=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var l=r[c];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([76,1]),r()}({39:function(e,t,r){e.exports={header:"header__a54415d",logo:"logo__607a62f",link:"link__f4366d4",active:"active__74c3d8d"}},40:function(e,t,r){e.exports={card:"card__84bd665",pinned:"pinned__b9bd806"}},75:function(e,t,r){},76:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(12),i=r.n(o),c=r(27),l=r(83),s=r(47),u=r(52),d=r(53),p=r(17),h=r.n(p),m=r(34),f=r.n(m),g=r(21),y=r.n(g),b=r(23),v=r.n(b),O=r(24),w=r.n(O),E=r(82),D=r(87),j=r(89),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"store";return Object(c.b)(t)(Object(c.c)(e))},P=r(39),C=r.n(P);var I=function(){var e=C.a.header,t=C.a.logo;return a.a.createElement("header",{className:e},a.a.createElement("div",{className:t},"Pandemic Products"))},_=r(14),A=r.n(_),S=r(2),x=r.n(S),R=r(79),N=r(80),q=r(81),M=r(18),T=r.n(M),L=r(85),B=r(86),H=r(88),J=r(40),z=r.n(J),F=function(e){var t=e.product,r=e.index,o=e.handleDelete,i=e.moveItem,c=e.store.products.pin,l=Object(n.useRef)(null),s=Object(L.a)({accept:"item",hover:function(e,t){if(l.current){var n=e.index,a=r;if(n!==a){var o=l.current.getBoundingClientRect(),c=(o.bottom-o.top)/2,s=t.getClientOffset().y-o.top;n<a&&s<c||n>a&&s>c||(i(n,a),e.index=a)}}}}),u=T()(s,2)[1],d=Object(B.a)({item:{type:"item",id:t.id,index:r},collect:function(e){return{isDragging:e.isDragging()}}}),p=T()(d,2),h=p[0].isDragging?0:1;(0,p[1])(u(l));var m=[z.a.card];return 0===r&&m.push(z.a.pinned),a.a.createElement(H.a,{key:t.id,ref:l,className:m.join(" "),style:{width:"17.5rem",opacity:h}},a.a.createElement(H.a.Img,{variant:"top",src:t.image}),a.a.createElement(H.a.Body,null,a.a.createElement(H.a.Title,null,t.name),a.a.createElement(H.a.Title,null,t.price," UAH"),a.a.createElement(H.a.Text,null,t.description),a.a.createElement(j.a,{id:"pin-".concat(t.id),onClick:function(){return c(t.id)},disabled:0===r},0===r?"Pinned":"Pin"),a.a.createElement(j.a,{id:"del-".concat(t.id),style:{float:"right"},onClick:o,variant:"danger"},"Delete")))};F.propTypes={product:x.a.object.isRequired,index:x.a.number.isRequired,handleDelete:x.a.func.isRequired,moveItem:x.a.func.isRequired};var U=k(F),W=function(e){var t=e.handleDelete,r=e.handleDnd,o=e.store.products.items,i=Object(n.useCallback)((function(e,t){var n=o[e],a=A()(o);a.splice(e,1),a.splice(t,0,n),r(a)}),[o]);return Object(n.useMemo)((function(){return a.a.createElement(R.a,null,a.a.createElement(N.a,null,o.map((function(e,r){return a.a.createElement(q.a,{key:Math.random()},a.a.createElement(U,{key:e.id,index:r,product:e,handleDelete:t,moveItem:i}))}))))}),[o])};W.propTypes={handleDelete:x.a.func.isRequired};var G=k(W),K=r(84),Q=function(e){var t=e.show,r=e.handleClose,o=e.handleAdd,i=Object(n.useState)(""),c=T()(i,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=T()(u,2),p=d[0],h=d[1],m=Object(n.useState)(""),f=T()(m,2),g=f[0],y=f[1],b=Object(n.useState)(""),v=T()(b,2),O=v[0],w=v[1],k=Object(n.useRef)(null);return Object(n.useEffect)((function(){k.current.focus()}),[]),a.a.createElement(K.a,{show:t,onHide:r},a.a.createElement(K.a.Header,null,a.a.createElement(K.a.Title,null,"Add item")),a.a.createElement(K.a.Body,null,a.a.createElement(E.a,{className:"p-3 mb-1"},a.a.createElement(D.a,{ref:k,value:l,onChange:function(e){return s(e.target.value)},maxLength:20,placeholder:"Name"})),a.a.createElement(E.a,{className:"p-3 mb-1"},a.a.createElement(D.a,{value:p,onChange:function(e){return h(e.target.value)},maxLength:150,placeholder:"Description"})),a.a.createElement(E.a,{className:"p-3 mb-1"},a.a.createElement(D.a,{value:g,onChange:function(e){return y(e.target.value)},maxLength:100,placeholder:"Image url"})),a.a.createElement(E.a,{className:"p-3 mb-1"},a.a.createElement(D.a,{value:O,onChange:function(e){return w(e.target.value)},maxLength:5,placeholder:"Price"}))),a.a.createElement(K.a.Footer,null,a.a.createElement(j.a,{variant:"secondary",onClick:r},"Close"),a.a.createElement(j.a,{variant:"primary",onClick:function(){return o({name:l,description:p,image:g,price:O})}},"Add item")))};Q.propTypes={show:x.a.bool.isRequired,handleClose:x.a.func.isRequired,handleAdd:x.a.func.isRequired};var V=Q,X=function(e){var t=e.show,r=e.handleClose,n=e.handleDelete;return a.a.createElement(K.a,{show:t,onHide:r},a.a.createElement(K.a.Header,null,a.a.createElement(K.a.Title,null,"Delete item?")),a.a.createElement(K.a.Footer,null,a.a.createElement(j.a,{variant:"secondary",onClick:r},"Close"),a.a.createElement(j.a,{variant:"primary",onClick:n},"Delete item")))};X.propTypes={show:x.a.bool.isRequired,handleClose:x.a.func.isRequired,handleDelete:x.a.func.isRequired};var Y,Z,$,ee,te=X,re=k(Y=function(e){function t(){var e,r;h()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=y()(this,(e=v()(t)).call.apply(e,[this].concat(o)))).store=r.props.store.products,r.state={showDelete:!1,showAdd:!1},r.addInput=a.a.createRef(),r.handleAdd=function(e){for(var t in e)if(e.hasOwnProperty(t)&&""===e[t])return;r.store.add(e),r.setState({showAdd:!1})},r.handleDelete=function(e){var t=e.target;r.store.currId=r.store.getId(t.id),r.setState({showDelete:!0})},r.deleteItem=function(){r.store.delete(r.store.currId),r.setState({showDelete:!1}),r.addInput.current.focus()},r}return w()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.store.loadItems()}},{key:"render",value:function(){var e=this,t=this.state,r=t.showAdd,n=t.showDelete;return a.a.createElement(a.a.Fragment,null,a.a.createElement(I,null),a.a.createElement("h1",null,"Products"),a.a.createElement("section",{className:"wrapper"},a.a.createElement(E.a,{className:"p-3 mb-2"},a.a.createElement(D.a,{ref:this.addInput,onChange:function(t){e.store.search(t.target.value)},placeholder:"Recipient's product"}),a.a.createElement(j.a,{onClick:function(){return e.setState({showAdd:!0})},variant:"outline-secondary"},"Add")),r&&a.a.createElement(V,{show:r,handleClose:function(){return e.setState({showAdd:!1})},handleAdd:this.handleAdd}),n&&a.a.createElement(te,{show:n,handleClose:function(){return e.setState({showDelete:!1})},handleDelete:this.deleteItem}),"React.useMemo(() => (",a.a.createElement(G,{handleDelete:this.handleDelete,handleDnd:function(t){return e.store.dragAndDrop(t)}}),"))"))}}]),t}(n.Component))||Y,ne=r(22),ae=r.n(ne),oe=r(5),ie=r(51),ce=r.n(ie),le=r(44),se=r.n(le),ue=r(15),de=r.n(ue);r(74);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var he=(Z=function(e){function t(e){var r;return h()(this,t),(r=y()(this,v()(t).call(this))).rootStore=e,se()(r,"items",$,ae()(r)),r.cached=[],r.matched=[],r.currId=null,se()(r,"pin",ee,ae()(r)),r.storage=e.storage,r.getProducts=e.getProducts,r}return w()(t,e),f()(t,[{key:"loadItems",value:function(){try{var e=this.storage.getItem("products");this.items=JSON.parse(e),this.cached=A()(this.items)}catch(e){this.items=this.getProducts(),this.cached=this.getProducts()}}},{key:"search",value:function(e){this.matched=this.cached.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())})),this.items=A()(this.matched)}},{key:"add",value:function(e){this.cached.unshift(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){ce()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{id:Math.round(1e3*Math.random())})),this.items=A()(this.cached),this.setItems()}},{key:"delete",value:function(e){this.items=this.cached.filter((function(t){return t.id!==e})),this.cached=A()(this.items),this.setItems()}},{key:"dragAndDrop",value:function(e){this.items=e,this.cached=e,this.setItems()}},{key:"setItems",value:function(){try{this.storage.setItem("products",JSON.stringify(this.cached))}catch(e){console.error(e)}}},{key:"getId",get:function(){return function(e){return Number(/\d+/.exec(e)[0])}}}]),t}((function e(){h()(this,e),this.storage=void 0,this.getProducts=void 0})),$=de()(Z.prototype,"items",[oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de()(Z.prototype,"getId",[oe.e],Object.getOwnPropertyDescriptor(Z.prototype,"getId"),Z.prototype),de()(Z.prototype,"loadItems",[oe.d],Object.getOwnPropertyDescriptor(Z.prototype,"loadItems"),Z.prototype),de()(Z.prototype,"search",[oe.d],Object.getOwnPropertyDescriptor(Z.prototype,"search"),Z.prototype),de()(Z.prototype,"add",[oe.d],Object.getOwnPropertyDescriptor(Z.prototype,"add"),Z.prototype),de()(Z.prototype,"delete",[oe.d],Object.getOwnPropertyDescriptor(Z.prototype,"delete"),Z.prototype),ee=de()(Z.prototype,"pin",[oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=e.items.find((function(e){return e.id===t})),n=e.items.indexOf(r),a=A()(e.items);a.splice(n,1),a.unshift(r),e.items=a,e.cached=A()(e.items),e.setItems()}}}),de()(Z.prototype,"dragAndDrop",[oe.d],Object.getOwnPropertyDescriptor(Z.prototype,"dragAndDrop"),Z.prototype),Z),me=function(){return[{id:1,image:"https://prm.ua/wp-content/uploads/2019/10/buckwheat-3478554_960_720.jpg",name:"Гречка",description:"Ухх подорожала. Раніше класно залітала з жареною ковбаскою і ряжанкою. Зараз супердорога через коронавірус",price:33.4},{id:2,image:"https://ukrhealth.net/wp-content/uploads/2013/04/Depositphotos_1015086_s.jpg",name:"Яйця",description:"Ідеальний сніданок. Вибив 3 яйця, засипав приправами, захавав хлібом і ніштяк на години три",price:21},{id:3,image:"https://upload.wikimedia.org/wikipedia/uk/thumb/2/28/%D0%9A%D0%B5%D1%84%D1%96%D1%80.jpg/1200px-%D0%9A%D0%B5%D1%84%D1%96%D1%80.jpg",name:"Кефір",description:"Селянський молочний продукт, з коро... з хімії. Але кого то цікавить, всі як пили - так і п'ють",price:26.4},{id:4,image:"https://i.otzovik.com/objects/b/1120000/1116883.png",name:"Ковбаса докторська",description:"Дієтична ковбаса родом з СРСР, легенда на ринку легкої промисловості. Непонятно з чого, але вкусна. Особливо якщо зажарити",price:95},{id:5,image:"https://market-if.com/upload/iblock/e88/e88b98639ebfd87c18594e07b275165e.jpeg",name:"Хліб",description:"Ну тут особливо нічого говорити. Просто мучний виріб. Хавається соло у вигляді бутера або в прикуску з борщиком",price:15.5},{id:6,image:"https://produkty24.com.ua/db_pic/products/original/img_2423160_[1573632094.7248].jpg",name:"Кетчуп",description:'Абсолютний хіт в холодильнику кожної господині. Псує шлунки студентам вже не перший десяток років В народі - "кепчук"',price:12}]},fe=function e(){h()(this,e),this.storage=void 0,this.getProducts=void 0,this.products=void 0};Object(oe.f)({enforceActions:"observed"});var ge=new(function(e){function t(){var e;return h()(this,t),(e=y()(this,v()(t).call(this))).storage=localStorage,e.getProducts=me,e.products=new he(ae()(e)),e}return w()(t,e),t}(fe));r(75);i.a.render(a.a.createElement((function(){return a.a.createElement(l.a,{backend:s.isMobile?d.a:u.a},a.a.createElement(c.a,{store:ge},a.a.createElement("div",{className:"App"},a.a.createElement(re,null))))}),null),document.querySelector("#root"))}});