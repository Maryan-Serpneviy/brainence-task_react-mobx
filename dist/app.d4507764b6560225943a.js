!function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([73,1]),n()}({39:function(e,t,n){e.exports={header:"header__a54415d",logo:"logo__607a62f",link:"link__f4366d4",active:"active__74c3d8d"}},40:function(e,t,n){e.exports={card:"card__84bd665",pinned:"pinned__b9bd806"}},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(27),s=n(80),l=n(51),u=n(17),d=n.n(u),p=n(34),h=n.n(p),m=n(21),f=n.n(m),g=n(23),y=n.n(g),v=n(24),b=n.n(v),O=n(79),w=n(84),E=n(86),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"store";return Object(c.b)(t)(Object(c.c)(e))},j=n(39),P=n.n(j);var k=function(){var e=P.a.header,t=P.a.logo;return a.a.createElement("header",{className:e},a.a.createElement("div",{className:t},"Pandemic Products"))},C=n(14),I=n.n(C),_=n(2),A=n.n(_),S=n(76),x=n(77),R=n(78),N=n(18),q=n.n(N),T=n(82),M=n(83),L=n(85),B=n(40),H=n.n(B),J=function(e){var t=e.product,n=e.index,o=e.handleDelete,i=e.moveItem,c=e.store.products.pin,s=Object(r.useRef)(null),l=Object(T.a)({accept:"item",hover:function(e,t){if(s.current){var r=e.index,a=n;if(r!==a){var o=s.current.getBoundingClientRect(),c=(o.bottom-o.top)/2,l=t.getClientOffset().y-o.top;r<a&&l<c||r>a&&l>c||(i(r,a),e.index=a)}}}}),u=q()(l,2)[1],d=Object(M.a)({item:{type:"item",id:t.id,index:n},collect:function(e){return{isDragging:e.isDragging()}}}),p=q()(d,2),h=p[0].isDragging?0:1;(0,p[1])(u(s));var m=[H.a.card];return t.isPinned&&m.push(H.a.pinned),a.a.createElement(L.a,{key:t.id,ref:s,className:m.join(" "),style:{width:"17.5rem",opacity:h}},a.a.createElement(L.a.Img,{variant:"top",src:t.image}),a.a.createElement(L.a.Body,null,a.a.createElement(L.a.Title,null,t.name),a.a.createElement(L.a.Title,null,t.price," UAH"),a.a.createElement(L.a.Text,null,t.description),a.a.createElement(E.a,{id:"pin-".concat(t.id),onClick:function(){return c(t.id)},disabled:t.isPinned},t.isPinned?"Pinned":"Pin"),a.a.createElement(E.a,{id:"del-".concat(t.id),style:{float:"right"},onClick:o,variant:"danger"},"Delete")))};J.propTypes={product:A.a.object.isRequired,index:A.a.number.isRequired,handleDelete:A.a.func.isRequired,moveItem:A.a.func.isRequired};var z=D(J),F=function(e){var t=e.handleDelete,n=e.handleDnd,o=e.store.products.items,i=Object(r.useCallback)((function(e,t){var r=o[e],a=I()(o);a.splice(e,1),a.splice(t,0,r),n(a)}),[o]);return Object(r.useMemo)((function(){return a.a.createElement(S.a,null,a.a.createElement(x.a,null,o.map((function(e,n){return a.a.createElement(R.a,{key:Math.random()},a.a.createElement(z,{key:e.id,index:n,product:e,handleDelete:t,moveItem:i}))}))))}),[o])};F.propTypes={handleDelete:A.a.func.isRequired};var U=D(F),W=n(81),G=function(e){var t=e.show,n=e.handleClose,o=e.handleAdd,i=Object(r.useState)(""),c=q()(i,2),s=c[0],l=c[1],u=Object(r.useState)(""),d=q()(u,2),p=d[0],h=d[1],m=Object(r.useState)(""),f=q()(m,2),g=f[0],y=f[1],v=Object(r.useState)(""),b=q()(v,2),D=b[0],j=b[1],P=Object(r.useRef)(null);return Object(r.useEffect)((function(){P.current.focus()}),[]),a.a.createElement(W.a,{show:t,onHide:n},a.a.createElement(W.a.Header,null,a.a.createElement(W.a.Title,null,"Add item")),a.a.createElement(W.a.Body,null,a.a.createElement(O.a,{className:"p-3 mb-1"},a.a.createElement(w.a,{ref:P,value:s,onChange:function(e){return l(e.target.value)},maxLength:20,placeholder:"Name"})),a.a.createElement(O.a,{className:"p-3 mb-1"},a.a.createElement(w.a,{value:p,onChange:function(e){return h(e.target.value)},maxLength:150,placeholder:"Description"})),a.a.createElement(O.a,{className:"p-3 mb-1"},a.a.createElement(w.a,{value:g,onChange:function(e){return y(e.target.value)},maxLength:100,placeholder:"Image url"})),a.a.createElement(O.a,{className:"p-3 mb-1"},a.a.createElement(w.a,{value:D,onChange:function(e){return j(e.target.value)},maxLength:5,placeholder:"Price"}))),a.a.createElement(W.a.Footer,null,a.a.createElement(E.a,{variant:"secondary",onClick:n},"Close"),a.a.createElement(E.a,{variant:"primary",onClick:function(){return o({name:s,description:p,image:g,price:D})}},"Add item")))};G.propTypes={show:A.a.bool.isRequired,handleClose:A.a.func.isRequired,handleAdd:A.a.func.isRequired};var K=G,Q=function(e){var t=e.show,n=e.handleClose,r=e.handleDelete;return a.a.createElement(W.a,{show:t,onHide:n},a.a.createElement(W.a.Header,null,a.a.createElement(W.a.Title,null,"Delete item?")),a.a.createElement(W.a.Footer,null,a.a.createElement(E.a,{variant:"secondary",onClick:n},"Close"),a.a.createElement(E.a,{variant:"primary",onClick:r},"Delete item")))};Q.propTypes={show:A.a.bool.isRequired,handleClose:A.a.func.isRequired,handleDelete:A.a.func.isRequired};var V,X,Y,Z,$=Q,ee=D(V=function(e){function t(){var e,n;d()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=f()(this,(e=y()(t)).call.apply(e,[this].concat(o)))).store=n.props.store.products,n.state={showDelete:!1,showAdd:!1},n.addInput=a.a.createRef(),n.handleAdd=function(e){for(var t in e)if(e.hasOwnProperty(t)&&""===e[t])return;n.store.add(e),n.setState({showAdd:!1})},n.handleDelete=function(e){var t=e.target;n.store.currId=n.store.getId(t.id),n.setState({showDelete:!0})},n.deleteItem=function(){n.store.delete(n.store.currId),n.setState({showDelete:!1}),n.addInput.current.focus()},n}return b()(t,e),h()(t,[{key:"componentWillMount",value:function(){this.store.loadItems()}},{key:"render",value:function(){var e=this,t=this.state,n=t.showAdd,r=t.showDelete;return a.a.createElement(a.a.Fragment,null,a.a.createElement(k,null),a.a.createElement("h1",null,"Products"),a.a.createElement("section",{className:"wrapper"},a.a.createElement(O.a,{className:"p-3 mb-2"},a.a.createElement(w.a,{ref:this.addInput,onChange:function(t){e.store.search(t.target.value)},placeholder:"Recipient's product"}),a.a.createElement(E.a,{onClick:function(){return e.setState({showAdd:!0})},variant:"outline-secondary"},"Add")),n&&a.a.createElement(K,{show:n,handleClose:function(){return e.setState({showAdd:!1})},handleAdd:this.handleAdd}),r&&a.a.createElement($,{show:r,handleClose:function(){return e.setState({showDelete:!1})},handleDelete:this.deleteItem}),"React.useMemo(() => (",a.a.createElement(U,{handleDelete:this.handleDelete,handleDnd:function(t){return e.store.dragAndDrop(t)}}),"))"))}}]),t}(r.Component))||V,te=n(22),ne=n.n(te),re=n(5),ae=n(50),oe=n.n(ae),ie=n(44),ce=n.n(ie),se=n(15),le=n.n(se);n(71);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=(X=function(e){function t(e){var n;return d()(this,t),(n=f()(this,y()(t).call(this))).rootStore=e,ce()(n,"items",Y,ne()(n)),n.pinned=!1,n.cached=[],n.matched=[],n.currId=null,ce()(n,"pin",Z,ne()(n)),n.storage=e.storage,n.getProducts=e.getProducts,n}return b()(t,e),h()(t,[{key:"loadItems",value:function(){try{var e=this.storage.getItem("products");this.items=JSON.parse(e),this.cached=I()(this.items)}catch(e){this.items=this.getProducts(),this.cached=this.getProducts()}}},{key:"search",value:function(e){this.matched=this.cached.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())})),this.items=I()(this.matched)}},{key:"add",value:function(e){this.cached.unshift(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){oe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:Math.round(1e3*Math.random())})),this.items=I()(this.cached),this.setItems()}},{key:"delete",value:function(e){this.items=this.cached.filter((function(t){return t.id!==e})),this.cached=I()(this.items),this.setItems()}},{key:"dragAndDrop",value:function(e){this.items=e,this.cached=e,this.setItems()}},{key:"setItems",value:function(){try{this.storage.setItem("products",JSON.stringify(this.cached))}catch(e){console.error(e)}}},{key:"getId",get:function(){return function(e){return Number(/\d+/.exec(e)[0])}}}]),t}((function e(){d()(this,e),this.storage=void 0,this.getProducts=void 0})),Y=le()(X.prototype,"items",[re.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le()(X.prototype,"getId",[re.e],Object.getOwnPropertyDescriptor(X.prototype,"getId"),X.prototype),le()(X.prototype,"loadItems",[re.d],Object.getOwnPropertyDescriptor(X.prototype,"loadItems"),X.prototype),le()(X.prototype,"search",[re.d],Object.getOwnPropertyDescriptor(X.prototype,"search"),X.prototype),le()(X.prototype,"add",[re.d],Object.getOwnPropertyDescriptor(X.prototype,"add"),X.prototype),le()(X.prototype,"delete",[re.d],Object.getOwnPropertyDescriptor(X.prototype,"delete"),X.prototype),Z=le()(X.prototype,"pin",[re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.items.find((function(e){return e.id===t})),r=e.items.indexOf(n);e.items.forEach((function(e){e.isPinned=!1})),n.isPinned=!0;var a=I()(e.items);a.splice(r,1),a.unshift(n),e.items=a,e.cached=I()(e.items),e.setItems()}}}),le()(X.prototype,"dragAndDrop",[re.d],Object.getOwnPropertyDescriptor(X.prototype,"dragAndDrop"),X.prototype),X),pe=function(){return[{id:1,image:"https://prm.ua/wp-content/uploads/2019/10/buckwheat-3478554_960_720.jpg",name:"Гречка",description:"Ухх подорожала. Раніше класно залітала з жареною ковбаскою і ряжанкою. Зараз супердорога через коронавірус",price:53.4},{id:2,image:"https://ukrhealth.net/wp-content/uploads/2013/04/Depositphotos_1015086_s.jpg",name:"Яйця",description:"Ідеальний сніданок. Вибив 3 яйця, засипав приправами, захавав хлібом і ніштяк на години три",price:21},{id:3,image:"https://upload.wikimedia.org/wikipedia/uk/thumb/2/28/%D0%9A%D0%B5%D1%84%D1%96%D1%80.jpg/1200px-%D0%9A%D0%B5%D1%84%D1%96%D1%80.jpg",name:"Кефір",description:"Селянський молочний продукт, з коро... з хімії. Але кого то цікаве? Пили. П'ют. Будут пили",price:26.4},{id:4,image:"https://i.otzovik.com/objects/b/1120000/1116883.png",name:"Ковбаса докторська",description:"Дієтична ковбаса родом з СРСР, легенда на ринку легкої промисловості. Непонятно з чого, але вкусна. Особливо якщо зажарити",price:95},{id:5,image:"https://market-if.com/upload/iblock/e88/e88b98639ebfd87c18594e07b275165e.jpeg",name:"Хліб",description:"Просто мучний виріб. Хавається соло у вигляді бутера або в прикуску. За останніми дослідженнями - містить дофігіща глютену",price:15.5},{id:6,image:"https://produkty24.com.ua/db_pic/products/original/img_2423160_[1573632094.7248].jpg",name:"Кетчуп",description:"Абсолютний хіт в холодильнику кожної господині. Шашлик-паті без нього зафейлиться. Псує шлунки студентам вже не перший десяток років",price:12}]},he=function e(){d()(this,e),this.storage=void 0,this.getProducts=void 0,this.products=void 0};Object(re.f)({enforceActions:"observed"});var me=new(function(e){function t(){var e;return d()(this,t),(e=f()(this,y()(t).call(this))).storage=localStorage,e.getProducts=pe,e.products=new de(ne()(e)),e}return b()(t,e),t}(he));n(72);i.a.render(a.a.createElement((function(){return a.a.createElement(s.a,{backend:l.a},a.a.createElement(c.a,{store:me},a.a.createElement("div",{className:"App"},a.a.createElement(ee,null))))}),null),document.querySelector("#root"))}});